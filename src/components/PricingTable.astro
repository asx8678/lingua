---
interface Props {
  title: string;
  subtitle?: string;
  columns?: string[];
  rows?: string[][];
  footnote?: string;
}

const { title, subtitle, columns = [], rows = [], footnote } = Astro.props;
---

<section class="card p-6">
  <h3 class="text-lg font-extrabold text-slate-900">{title}</h3>
  {subtitle && <p class="mt-2 text-sm text-slate-600">{subtitle}</p>}

  <div class="mt-4 relative">
    <div
      class="pointer-events-none absolute inset-y-0 right-0 w-10 bg-gradient-to-l from-white to-transparent md:hidden"
      aria-hidden="true"
    ></div>
    <div class="overflow-x-auto pb-2">
      <table class="w-full min-w-[520px] text-left text-sm">
        <thead>
          <tr
            class="border-b border-slate-200 text-xs font-bold uppercase tracking-widest text-slate-500"
          >
            {
              columns.map((c) => (
                <th class="py-3 pr-4" scope="col">
                  {c}
                </th>
              ))
            }
          </tr>
        </thead>
        <tbody>
          {
            rows.map((r) => (
              <tr class="border-b border-slate-100 last:border-0">
                {r.map((cell, i) => (
                  <td
                    class={
                      i === 0
                        ? "py-3 pr-4 font-extrabold text-slate-900"
                        : "py-3 pr-4 text-slate-600"
                    }
                  >
                    {cell}
                  </td>
                ))}
              </tr>
            ))
          }
        </tbody>
      </table>
    </div>
    <p class="mt-2 text-xs text-slate-500 md:hidden">
      Przesuń tabelę w bok, aby zobaczyć wszystkie kolumny.
    </p>
  </div>

  {footnote && <p class="mt-3 text-xs text-slate-500">{footnote}</p>}
</section>
