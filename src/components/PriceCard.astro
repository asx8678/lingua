---
interface Props {
  title: string;
  items?: string[];
  ctaHref?: string;
  ctaLabel?: string;
}

const {
  title,
  items = [],
  ctaHref = "/cennik-lingua.pdf",
  ctaLabel = "POBIERZ CENNIK",
} = Astro.props;

const splitArrow = (text: string) => {
  const parts = String(text)
    .split("→")
    .map((s) => s.trim());
  if (parts.length >= 2) return { left: parts[0], right: parts.slice(1).join(" → ") };
  return { left: String(text), right: "" };
};

// Tailwind class constants
const card = "rounded-2xl border border-slate-200/80 bg-white shadow-sm transition-shadow hover:shadow-md";
const btnSecondary = "inline-flex items-center justify-center gap-2 rounded-full px-6 py-3 text-sm font-bold transition-all duration-200 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary border border-slate-200 bg-white text-slate-700 shadow-sm hover:border-primary/30 hover:text-primary hover:shadow-md hover:-translate-y-0.5 active:translate-y-0";
---

<div class={`${card} relative overflow-hidden p-6`}>
  <div
    class="pointer-events-none absolute inset-x-0 top-0 h-1 bg-gradient-to-r from-primary/60 to-primary/10"
    aria-hidden="true"
  >
  </div>
  <div class="flex items-start justify-between gap-4">
    <h3 class="text-lg font-extrabold text-slate-900">{title}</h3>
    <div
      class="hidden h-10 w-10 rounded-full bg-primary/10 sm:grid sm:place-items-center"
      aria-hidden="true"
    >
      <svg
        viewBox="0 0 24 24"
        class="h-5 w-5 text-primary"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <path d="M12 2v20"></path>
        <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7H14a3 3 0 0 1 0 6H6"></path>
      </svg>
    </div>
  </div>

  <ul class="mt-4 space-y-3">
    {
      items.map((it) => {
        const { left, right } = splitArrow(it);
        return (
          <li class="flex items-center justify-between gap-4">
            <div class="flex items-center gap-2">
              <svg
                viewBox="0 0 24 24"
                class="h-5 w-5 text-primary"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                aria-hidden="true"
              >
                <path d="M20 6 9 17l-5-5" />
              </svg>
              <span class="text-sm font-semibold text-slate-600">{left}</span>
            </div>
            {right && <span class="text-sm font-extrabold text-slate-900">{right}</span>}
          </li>
        );
      })
    }
  </ul>

  <div class="mt-6">
    <a class={`${btnSecondary} w-full`} href={ctaHref} download>{ctaLabel}</a>
  </div>
</div>
