---
type FaqItem = {
  question: string;
  answer: string;
};

const { title = "FAQ", items = [], id } = Astro.props as {
  title?: string;
  items?: FaqItem[];
  id?: string;
};

const jsonLd = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  mainEntity: items.map((item) => ({
    "@type": "Question",
    name: item.question,
    acceptedAnswer: {
      "@type": "Answer",
      text: item.answer,
    },
  })),
};
---
<section class="section section-muted" id={id}>
  <div class="container-site">
    <h2>{title}</h2>
    <div class="mt-8 space-y-4">
      {items.map((item) => (
        <details class="card p-5">
          <summary class="cursor-pointer text-sm font-extrabold text-slate-900">{item.question}</summary>
          <p class="mt-3 text-sm text-slate-600">{item.answer}</p>
        </details>
      ))}
    </div>
  </div>
  <script is:inline type="application/ld+json" set:html={JSON.stringify(jsonLd)}></script>
</section>
