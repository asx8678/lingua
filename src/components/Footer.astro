---
import Logo from "./Logo.astro";
import { subjects } from "../data/subjects";
import { CONTACT_EMAIL, CONTACT_PHONE, BRAND_NAME, BUSINESS, FULL_ADDRESS, isTodo } from "../config/site";

const year = new Date().getFullYear();

const hasEmail = !isTodo(CONTACT_EMAIL);
const hasPhone = !isTodo(CONTACT_PHONE);
const contactFormHref = "/kontakt";
const addressLine = FULL_ADDRESS || BUSINESS.city;
---

<footer class="border-t border-slate-200 bg-slate-50">
  <div class="container-site py-12">
    <div class="grid gap-10 lg:grid-cols-4">
      <div>
        <Logo />
        <p class="mt-4 text-sm text-slate-600">
          Szkoła języków obcych i matematyki w Legionowie. Zajęcia stacjonarne i online dla wszystkich poziomów.
        </p>
      </div>

      <div aria-label="Oferta">
        <div class="text-sm font-extrabold text-slate-900">Oferta</div>
        <div class="mt-4 flex flex-col gap-2 text-sm">
          <a class="link-muted no-underline" href="/angielski-stacjonarnie">Angielski stacjonarnie</a>
          <a class="link-muted no-underline" href="/angielski-online">Angielski online</a>
          <a class="link-muted no-underline" href="/lekcje-indywidualne">Lekcje indywidualne</a>
          <a class="link-muted no-underline" href="/kursy-grupowe">Kursy grupowe</a>
        </div>
      </div>

      <div aria-label="Uczymy">
        <div class="text-sm font-extrabold text-slate-900">Uczymy</div>
        <div class="mt-4 flex flex-wrap gap-2 text-sm">
          {subjects.map((subject) => (
            <span class="chip">{subject}</span>
          ))}
        </div>
      </div>

      <div aria-label="Informacje i kontakt">
        <div class="text-sm font-extrabold text-slate-900">Informacje</div>
        <div class="mt-4 flex flex-col gap-2 text-sm">
          <a class="link-muted no-underline" href="/cennik">Cennik</a>
          <a class="link-muted no-underline" href="/opinie">Opinie</a>
          <a class="link-muted no-underline" href="/o-nas">O nas</a>
          <a class="link-muted no-underline" href="/blog">Blog</a>
          <a class="link-muted no-underline" href="/kontakt">Kontakt</a>
        </div>

        <div class="mt-6 border-t border-slate-200 pt-6">
          <div class="text-sm font-extrabold text-slate-900">Kontakt</div>
          <div class="mt-4 flex flex-col gap-2 text-sm">
            {hasEmail ? (
              <a class="link-muted no-underline" href={`mailto:${CONTACT_EMAIL}`}>{CONTACT_EMAIL}</a>
            ) : (
              <a class="link-muted no-underline" href={contactFormHref}>Formularz kontaktowy</a>
            )}
            {hasPhone ? (
              <a class="link-muted no-underline" href={`tel:${CONTACT_PHONE}`}>{CONTACT_PHONE}</a>
            ) : (
              <span class="text-slate-600">Oddzwonimy po zgłoszeniu</span>
            )}
            {addressLine && <span class="text-slate-600">{addressLine}</span>}
            <a class="link-muted no-underline" href="/privacy">Polityka prywatności</a>
          </div>
        </div>
      </div>
    </div>

    <div class="mt-10 border-t border-slate-200 pt-6 text-sm text-slate-500">
      © {year} {BRAND_NAME}. Wszelkie prawa zastrzeżone.
    </div>
  </div>
</footer>
