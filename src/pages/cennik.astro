---
import BaseLayout from "../layouts/BaseLayout.astro";
import PricingTable from "../components/PricingTable.astro";
import PriceCalculator from "../components/PriceCalculator.astro";

export const prerender = true;

// Cennik wg przesłanego PDF 2025/2026.
const courseColumns = ["Cena kursu", "Spotkania", "Czas", "Grupa"];
// Pokazujemy najpierw niższe kwoty, a droższy wariant chowamy w sekcji rozwijanej.
const courseRowsMain = [
  ["2 700 zł", "30", "90 min", "od 3 osób"],
  ["2 800 zł", "56", "60 min", "od 4 osób"],
];
const courseRowsMore = [["4 200 zł", "56", "90 min", "od 4 osób"]];

const indivColumns = ["Cena", "Spotkania", "Czas", "Ilość osób"];
const indivRows = [
  ["1 300 zł", "10", "60 min", "1"],
  ["800 zł", "10", "60 min", "2"],
  ["650 zł", "10", "60 min", "3"],
  ["1 000 zł", "10", "45 min", "1"],
  ["600 zł", "10", "45 min", "2"],
  ["500 zł", "10", "45 min", "3"],
];

// Szybki skrót (za spotkanie) – wyliczenie z pakietów 10 spotkań.
const perSessionBadges = [
  { duration: "60 min", price: "130 zł" },
  { duration: "45 min", price: "100 zł" },
];
---

<BaseLayout title="Cennik 2025/2026 — Lingua Legionowo">
  <section class="hero-bg">
    <div class="container-site py-16 sm:py-20">
      <div class="grid gap-10 lg:grid-cols-2 lg:items-center">
        <div>
          <span class="kicker">Cennik 2025/2026</span>
          <h1 class="mt-6">Ceny kursów i zajęć</h1>
          <p class="mt-6 max-w-2xl text-lg">
            Poniżej znajdziesz aktualny cennik oraz kalkulator, który policzy koszt dla wybranego wariantu.
          </p>

          <div class="mt-8 flex flex-wrap gap-3" aria-label="Szybki skrót cen za spotkanie">
            {perSessionBadges.map((r) => (
              <span class="badge">
                <span class="text-slate-500">{r.duration}</span>
                <span aria-hidden="true">·</span>
                <span class="text-slate-900">{r.price}</span>
              </span>
            ))}
          </div>
          <p class="mt-3 text-xs text-slate-500">
            Ceny za spotkanie wyliczone na podstawie pakietów 10 spotkań (cennik 2025/2026).
          </p>

          <div class="mt-8 flex flex-wrap gap-3">
            <a class="btn btn-primary" href="/cennik-lingua.pdf" download>POBIERZ CENNIK (PDF)</a>
            <a class="btn btn-secondary" href="/kontakt">Kontakt</a>
            <a class="btn btn-ghost" href="#kalkulator">Kalkulator</a>
          </div>

          <p class="mt-4 text-xs text-slate-500">Źródło cen: cennik zajęć 2025/2026 (PDF).</p>
        </div>

        <div class="relative">
          <img
            src="/images/pricing.svg"
            alt="Ilustracja: cennik i kalkulator"
            loading="eager"
            class="w-full rounded-3xl border border-slate-200 shadow-soft"
          />
        </div>
      </div>
    </div>
  </section>

  <section class="section" id="kalkulator">
    <div class="container-site">
      <h2>Kalkulator ceny</h2>
      <p class="mt-4 max-w-3xl">
        Wybierz typ zajęć, liczbę osób i liczbę spotkań. Kalkulator pokaże cenę za spotkanie, łączny koszt na osobę
        oraz (opcjonalnie) koszt całej grupy.
      </p>
      <div class="mt-6">
        <PriceCalculator />
      </div>
    </div>
  </section>

  <section class="section section-muted">
    <div class="container-site">
      <h2>Pełny cennik</h2>
      <p class="mt-4 max-w-3xl">Najważniejsze pozycje z cennika 2025/2026.</p>

      <div class="mt-8 grid gap-6 lg:grid-cols-2">
        <PricingTable
          title="Kursy (grupy)"
          subtitle="Ceny kursów, liczba spotkań i minimalna liczba osób w grupie."
          columns={courseColumns}
          rows={courseRowsMain}
        />
        <PricingTable
          title="Zajęcia indywidualne / w duecie / w trójce"
          subtitle="Pakiety 10 spotkań (45 lub 60 min)."
          columns={indivColumns}
          rows={indivRows}
        />
      </div>

      <details class="mt-6 rounded-2xl border border-slate-200 bg-white p-6">
        <summary class="cursor-pointer select-none text-sm font-extrabold text-slate-900">Pozostałe warianty kursów</summary>
        <div class="mt-4">
          <PricingTable
            title="Kurs — dodatkowy wariant"
            subtitle="Opcja widoczna w cenniku PDF."
            columns={courseColumns}
            rows={courseRowsMore}
          />
        </div>
      </details>

      <div class="mt-8">
        <a class="btn btn-secondary" href="/kontakt">Masz pytania? Skontaktuj się</a>
      </div>
    </div>
  </section>
</BaseLayout>
