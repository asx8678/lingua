---
import MainLayout from "../layouts/MainLayout.astro";
import CTASection from "../components/CTASection.astro";
import TrustSection from "../components/TrustSection.astro";
import {
  matematyka,
  hiszpanski,
  niemiecki,
  francuski,
  rosyjski,
  szwedzki,
} from "../data/subject-pages";
import {
  BRAND_NAME,
  CTA_PRIMARY_HREF,
  CTA_PRIMARY_LABEL,
  CTA_PRIMARY_REL,
  CTA_PRIMARY_TARGET,
  getEnrollmentMessage,
  generateBreadcrumbSchema,
} from "../config/site";

const title = `Oferta – kursy językowe i matematyka w Legionowie | ${BRAND_NAME}`;
const description =
  "Wybierz formę nauki: angielski stacjonarnie, angielski online oraz inne języki i matematyka. Krótka diagnoza i plan nauki dopasowany do celu.";

const otherOffers = [matematyka, hiszpanski, niemiecki, francuski, rosyjski, szwedzki];
const enrollmentMessage = getEnrollmentMessage();

const segments = [
  {
    id: "dla-dzieci",
    title: "Dla dzieci",
    text: "Spokojne tempo, budowanie podstaw i wsparcie w szkolnych tematach.",
  },
  {
    id: "dla-mlodziezy",
    title: "Dla młodzieży",
    text: "Przygotowanie do egzaminów, regularny rytm i praktyka mówienia.",
  },
  {
    id: "dla-doroslych",
    title: "Dla dorosłych",
    text: "Komunikacja w pracy i podróży, elastyczne godziny i szybki postęp.",
  },
  {
    id: "dla-firm",
    title: "Dla firm",
    text: "Język biznesowy i zajęcia dla zespołów z jasno określonym celem.",
  },
];

const breadcrumbSchema = generateBreadcrumbSchema([
  { name: "Strona główna", url: "/" },
  { name: "Oferta" },
]);

// Tailwind class constants
const btnBase = "inline-flex items-center justify-center gap-2 rounded-full px-6 py-3 text-sm font-bold transition-all duration-200 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary";
const btnPrimary = `${btnBase} bg-primary text-white shadow-md hover:bg-primary-700 hover:shadow-lg hover:-translate-y-0.5 active:translate-y-0 active:shadow-md`;
const btnSecondary = `${btnBase} border border-slate-200 bg-white text-slate-700 shadow-sm hover:border-primary/30 hover:text-primary hover:shadow-md hover:-translate-y-0.5 active:translate-y-0`;
const card = "rounded-2xl border border-slate-200/80 bg-white shadow-sm transition-shadow hover:shadow-md";
const cardInteractive = `${card} p-6 cursor-pointer hover:-translate-y-0.5`;
const kicker = "inline-block rounded-full bg-primary/10 px-4 py-1.5 text-xs font-bold uppercase tracking-widest text-primary";
const notice = "rounded-xl border border-primary/20 bg-primary/5 p-4 text-primary";
---

<MainLayout
  title={title}
  description={description}
  canonical="/oferta"
  structuredData={[breadcrumbSchema]}
>
  <section class="bg-hero-gradient">
    <div class="mx-auto w-full max-w-7xl px-6 py-16 sm:py-20">
      <div class="max-w-3xl">
        <span class={kicker}>Oferta</span>
        <h1 class="mt-6">Wybierz formę nauki dopasowaną do Ciebie</h1>
        <p class="mt-6 text-lg">
          Uczymy stacjonarnie w Legionowie i online. Poniżej wybierzesz główny kierunek, a resztę
          dopasujemy do Twojego poziomu i celu.
        </p>
        <div class="mt-8 flex flex-wrap items-center gap-4">
          <a
            class={btnPrimary}
            href={CTA_PRIMARY_HREF}
            target={CTA_PRIMARY_TARGET}
            rel={CTA_PRIMARY_REL}
            data-track="cta_primary"
            data-track-label={CTA_PRIMARY_LABEL}
          >
            {CTA_PRIMARY_LABEL}
          </a>
          <a class="text-sm font-bold text-primary no-underline hover:underline" href="/cennik"
            >Zobacz cennik →</a
          >
        </div>
        <div class={`mt-6 ${notice} text-sm`}>
          {enrollmentMessage}
        </div>
      </div>
    </div>
  </section>

  <section class="py-16 lg:py-24">
    <div class="mx-auto w-full max-w-7xl px-6">
      <span class={kicker}>Dla kogo</span>
      <h2 class="mt-4">Zajęcia dopasowane do wieku i celu</h2>
      <p class="mt-4 max-w-3xl text-slate-600">
        Zaczynamy od krótkiej diagnozy, a następnie dobieramy format i tempo pracy. Wybierz grupę,
        a zaproponujemy najlepszy plan.
      </p>
      <div class="mt-8 grid gap-6 md:grid-cols-2 lg:grid-cols-4">
        {segments.map((segment) => (
          <div class={`${card} p-6 scroll-mt-28`} id={segment.id}>
            <h3 class="text-lg font-extrabold text-slate-900">{segment.title}</h3>
            <p class="mt-3 text-sm text-slate-600">{segment.text}</p>
            <a
              class="mt-4 inline-flex text-sm font-bold text-primary no-underline hover:underline"
              href={CTA_PRIMARY_HREF}
              target={CTA_PRIMARY_TARGET}
              rel={CTA_PRIMARY_REL}
              data-track="cta_primary"
              data-track-label={CTA_PRIMARY_LABEL}
            >
              Umów diagnozę →
            </a>
          </div>
        ))}
      </div>
    </div>
  </section>

  <section class="py-16 lg:py-24">
    <div class="mx-auto w-full max-w-7xl px-6">
      <div class="grid gap-6 md:grid-cols-2">
        <a
          class={`${cardInteractive} group no-underline`}
          href="/angielski-stacjonarnie"
        >
          <h2 class="text-xl font-extrabold text-slate-900">Angielski stacjonarnie</h2>
          <p class="mt-3 text-slate-600">
            Zajęcia w naszej szkole w Legionowie. Bezpośredni kontakt z lektorem i pełna
            koncentracja.
          </p>
          <span class="mt-4 inline-flex items-center gap-2 text-sm font-bold text-primary transition-all group-hover:gap-3">
            Poznaj szczegóły
            <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M17 8l4 4m0 0l-4 4m4-4H3" />
            </svg>
          </span>
        </a>
        <a class={`${cardInteractive} group no-underline`} href="/angielski-online">
          <h2 class="text-xl font-extrabold text-slate-900">Angielski online</h2>
          <p class="mt-3 text-slate-600">
            Lekcje z lektorem na żywo. Elastyczne godziny i nacisk na mówienie w praktyce.
          </p>
          <span class="mt-4 inline-flex items-center gap-2 text-sm font-bold text-primary transition-all group-hover:gap-3">
            Poznaj szczegóły
            <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M17 8l4 4m0 0l-4 4m4-4H3" />
            </svg>
          </span>
        </a>
      </div>
      <div class="mt-8">
        <a
          class={btnPrimary}
          href={CTA_PRIMARY_HREF}
          target={CTA_PRIMARY_TARGET}
          rel={CTA_PRIMARY_REL}
          data-track="cta_primary"
          data-track-label={CTA_PRIMARY_LABEL}
        >
          {CTA_PRIMARY_LABEL}
        </a>
      </div>
    </div>
  </section>

  <section class="py-16 lg:py-24">
    <div class="mx-auto w-full max-w-7xl px-6">
      <span class={kicker}>Twój progres</span>
      <h2 class="mt-4">Zobacz, co osiągniesz na każdym poziomie</h2>
      <p class="mt-4 max-w-3xl text-slate-600">
        Wybierz swój obecny poziom i zobacz, co będziesz potrafić po kursie.
      </p>
      <div class="mt-8">
        <div
          data-lingua-progress-widget
          data-lang="pl"
          data-layout="split"
          data-show-header="0"
          data-track="everyday"
          data-start-level="A2"
          data-accent="#0052CC"
          data-cta-href={CTA_PRIMARY_HREF}
          data-cta-text={CTA_PRIMARY_LABEL}
        ></div>
      </div>
    </div>
  </section>

  <section class="py-16 lg:py-24 bg-slate-50">
    <div class="mx-auto w-full max-w-7xl px-6">
      <span class={kicker}>Pozostałe kursy</span>
      <h2 class="mt-4">Inne języki i matematyka</h2>
      <p class="mt-4 max-w-3xl">
        Sprawdź szczegóły pozostałych kursów i korepetycji. Każdy program dopasowujemy do poziomu,
        celu i dostępności.
      </p>
      <div class="mt-8 grid gap-6 md:grid-cols-2 lg:grid-cols-3">
        {otherOffers.map((offer) => (
          <a
            class={`${cardInteractive} group no-underline scroll-mt-28`}
            href={`/${offer.slug}`}
            id={offer.slug === "matematyka" ? "matematyka" : undefined}
          >
            <h3 class="text-lg font-extrabold text-slate-900">{offer.kicker}</h3>
            <p class="mt-3 text-sm text-slate-600">{offer.description}</p>
            <span class="mt-4 inline-flex items-center gap-2 text-sm font-bold text-primary transition-all group-hover:gap-3">
              Poznaj szczegóły
              <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M17 8l4 4m0 0l-4 4m4-4H3" />
              </svg>
            </span>
          </a>
        ))}
      </div>
      <div class="mt-8">
        <a
          class={btnSecondary}
          href={CTA_PRIMARY_HREF}
          target={CTA_PRIMARY_TARGET}
          rel={CTA_PRIMARY_REL}
          data-track="cta_secondary"
          data-track-label="Zapytaj o dostępność"
        >
          Zapytaj o dostępność
        </a>
      </div>
    </div>
  </section>

  <TrustSection />

  <CTASection
    title="Nie wiesz, co wybrać?"
    description="Opowiedz o celu i dostępności, a zaproponujemy najlepszy format zajęć."
    secondaryLabel={null}
  />

  <script is:inline src="/lingua-progress-widget-v2.5.0.js" defer></script>
</MainLayout>
